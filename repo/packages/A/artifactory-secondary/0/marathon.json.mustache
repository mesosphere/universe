{
    "id": "{{artifactory-secondary.framework-name}}",
    "cpus": {{artifactory-secondary.cpus}},
    "mem": {{artifactory-secondary.mem}},
    "instances": {{artifactory-secondary.nodes}},
    "container": {
            "type": "DOCKER",
            "docker": {
                "image": "{{resource.assets.container.docker.artifactory-ha-secondary}}",
                "network": "HOST"
            },
             "volumes": [
                {
                    "containerPath": "/var/opt/jfrog/cluster",
                    "hostPath": "{{artifactory-secondary.cluster-home}}/cluster-home",
                    "mode": "RW"
                 },
                {
                    "containerPath": "/var/opt/jfrog/artifactory/logs",
                    "hostPath": "{{artifactory-secondary.artifactory-home}}/{{artifactory-secondary.framework-name}}/logs",
                    "mode": "RW"
                },
                {
                    "containerPath": "//var/opt/jfrog/artifactory/data",
                    "hostPath": "{{artifactory-secondary.artifactory-home}}/{{artifactory-secondary.framework-name}}/data",
                    "mode": "RW"
                },
                {
                "containerPath": "/var/opt/jfrog/artifactory/backup",
                "hostPath": "{{artifactory-secondary.artifactory-home}}/{{artifactory-secondary.framework-name}}/backup",
                "mode": "RW"
                }
                ]
            },
    "portDefinitions": [
            {
                "port": 0,
                "protocol": "tcp",
                "name": "instance",
                "labels": {}
            },
            {
                "port": 0,
                "protocol": "tcp",
                "name": "member",
                "labels": {}
            }
            ],
    "healthChecks": [
        {
            "gracePeriodSeconds": 3,
            "intervalSeconds": 10,
            "maxConsecutiveFailures": 3,
            "path": "/artifactory/api/system/ping",
            "portIndex": 0,
            "protocol": "HTTP",
            "timeoutSeconds": 10
        }
        ]
    {{#artifactory-secondary.high-availability.unique-nodes}},
        "constraints": [["hostname", "UNIQUE"]]
    {{/artifactory-secondary.high-availability.unique-nodes}}
}
