{
  "id": "hdfs",
  "cpus": 0.5,
  "mem": 512,
  "disk": 100,
  "instances": 1,
  "cmd": "{{#hdfs/custom-config}}echo {{hdfs/custom-config}} | base64 --decode > mesos-site.xml && {{/hdfs/custom-config}}cd hdfs-mesos* && if [ -e '../mesos-site.xml' ]; then cp -f ../mesos-site.xml ./etc/hadoop/; fi && ./bin/hdfs-mesos",
  "uris": {{{hdfs/scheduler-uris}}},
  "healthChecks": [
    {
      "protocol": "COMMAND",
      "command": { "value": "curl -f -X GET http://namenode2.hdfs.mesos:50070" },
      "gracePeriodSeconds": 300,
      "intervalSeconds": 60,
      "timeoutSeconds": 20,
      "maxConsecutiveFailures": 3
    }
  ]
}
